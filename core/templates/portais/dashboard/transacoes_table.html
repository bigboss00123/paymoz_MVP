{% for transaction in transactions %}
<tr class="hover:bg-white/50 transition-colors duration-200">
    <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-slate-900">#{{ transaction.transaction_id|stringformat:".8s" }}</td>
    <td class="px-6 py-4 whitespace-nowrap">
        <div class="flex items-center">
            <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mr-3">
                <span class="text-white text-xs font-semibold">
                    {% if transaction.client_contact_number %}
                        {{ transaction.client_contact_number|first|upper }}
                    {% elif transaction.checkout_session and transaction.checkout_session.nome_cliente %}
                        {{ transaction.checkout_session.nome_cliente|first|upper }}
                    {% else %}
                        U
                    {% endif %}
                </span>
            </div>
            <span class="text-sm font-medium text-slate-900">
                {% if transaction.client_contact_number %}
                    {{ transaction.client_contact_number }}
                {% elif transaction.checkout_session and transaction.checkout_session.nome_cliente %}
                    {{ transaction.checkout_session.nome_cliente }}
                {% else %}
                    N/A
                {% endif %}
            </span>
        </div>
    </td>
    <td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-900">{{ transaction.valor|floatformat:2 }} MZN</td>
    <td class="px-6 py-4 whitespace-nowrap">
        {% if transaction.status == 'SUCCESS' %}
            <span class="inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">Concluído</span>
        {% else %}
            <span class="inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">Falhou</span>
        {% endif %}
    </td>
    <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500">{{ transaction.timestamp|date:"d/m/Y H:i" }}</td>
</tr>
{% empty %}
<tr>
    <td colspan="5" class="px-6 py-4 text-center text-sm text-slate-500">Nenhuma transação encontrada.</td>
</tr>
{% endfor %}